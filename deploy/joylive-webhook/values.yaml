# Default values for joylive-webhook.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicas: 1

namespace: joylive

matchLabels:
  matchKey: x-live-enabled
  matchValue: '"true"'

image:
  repository: ghcr.io/jd-opensource/joylive-injector
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "1.0.0"

logLevel: debug

containerArgs:
  - --cert=/etc/kubernetes/ssl/dac.pem
  - --key=/etc/kubernetes/ssl/dac-key.pem
  - --init-container-image=ghcr.io/jd-opensource/joylive-agent:1.0.0

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80

#caBundle: $ {CA_BUNDLE}
caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdKRENDQkF5Z0F3SUJBZ0lVUSthU1B5YWphcjd4UUJEOTVvYVNOZTE5Z0k0d0RRWUpLb1pJaHZjTkFRRU4KQlFBd2dha3hDekFKQmdOVkJBWVRBa05PTVJBd0RnWURWUVFJRXdkQ1pXbHFhVzVuTVJBd0RnWURWUVFIRXdkQwpaV2xxYVc1bk1TSXdJQVlEVlFRS0V4bEVlVzVoYldsaklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01Tc3dLUVlEClZRUUxFeUpFZVc1aGJXbGpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNJRk5sWTNWeWFYUjVNU1V3SXdZRFZRUUQKRXh4RWVXNWhiV2xqSUVGa2JXbHpjMmx2YmlCRGIyNTBjbTlzSUVOQk1CNFhEVEkwTURReU5qQXdOVGt3TUZvWApEVE0wTURReU5EQXdOVGt3TUZvd2dha3hDekFKQmdOVkJBWVRBa05PTVJBd0RnWURWUVFJRXdkQ1pXbHFhVzVuCk1SQXdEZ1lEVlFRSEV3ZENaV2xxYVc1bk1TSXdJQVlEVlFRS0V4bEVlVzVoYldsaklFRmtiV2x6YzJsdmJpQkQKYjI1MGNtOXNNU3N3S1FZRFZRUUxFeUpFZVc1aGJXbGpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNJRk5sWTNWeQphWFI1TVNVd0l3WURWUVFERXh4RWVXNWhiV2xqSUVGa2JXbHpjMmx2YmlCRGIyNTBjbTlzSUVOQk1JSUNJakFOCkJna3Foa2lHOXcwQkFRRUZBQU9DQWc4QU1JSUNDZ0tDQWdFQXBSQUNia0doQTNHMytrWVdhcUN6UFhSZkVCODkKRHRFc0ZlTW9Wa0pQOHdMamZJT1g0aUE0enhaVmp4cTVvOSt4ZGdKQnRheXcwNk5SbEtkVUFyRkRLY3FLQkwwNgo3eVlhTXdXTk5ybE5PYnJOeE5MVFJ1VFB2VzdySHN5NUNzbm9uNFI2dTFkK0ZLckgzdytrT0xUa3A4c0xxRlR4CnBUMElNSmN6STMzUjhsaGU1S2hzbEFkOThld2Z1RWlrOFJHZ0ZlSFdtcit5YmE5WCt0VXBYMHVSWFVFeXZNdFIKZjh6Ujk1dy9tbDN6TTBCbWJmUWlWNmdtY0J0azFWYnBvcVJndjlqTThMYS81MVpGaElwVVJOaWloMDc4QXJNMgovWXpndWNMWGtXcHJGSU5Ta1ZSNWg4cE9TR2VPTjJRZjk0ZlBIZXRySG51U1B1OGJvazRtSTdRd3ZTWVJMV21JClB1YzVhNDRSempnYlRLOGVRcTNrTFlESTZNQVA5R0Y0SE1tZVhxNmpFTmo0YXB1RW42V0l0THpnbmtnWCtwUmwKcWdQMVh0UXlOS01PcWtUNjFVbC9wUFhQdTUwbS82SDhJaldYemlRQXZDbnE1elhQOHkzZEM2dkhYWU15NUNEZApDTXZRVUJPa2tzV1pyZVRKWEMwcDB5N292amN5ZkRsVzRkcUZNMjR5T25xUHA5QnEwSHV5MHFZaUtEdVFRUG9pCjBVbFdsb1VyMDFINXdXdk5IZy9QcjJvMWJjMDVpMzBKc1ZtZk5DbmNRR0UvL09WODNvdS92YlM2TGhyUExwMmYKS21xclNTKzFITXo1V0t3bW5XNE5BSEdjaG01UzE3U2dKbXdkK3lqRzlGbzlrRmlYeC9kcnZaWG90c05ybUg5aApjdFdkMk1GSk9XZE9wS2NDQXdFQUFhTkNNRUF3RGdZRFZSMFBBUUgvQkFRREFnRUdNQThHQTFVZEV3RUIvd1FGCk1BTUJBZjh3SFFZRFZSME9CQllFRkErVXdYbU16YzVWMlNqdmxPZGZIYkNKSEtpOE1BMEdDU3FHU0liM0RRRUIKRFFVQUE0SUNBUUJEU3ZqRStJdEwyWURINE1nelNxQ0llVnVNUVp6eWhWQmkyNzlOSisvaUVmMVZiQ0NRV1AxdApIVmNkMFZlYlA5cllsNms1NUZvK25tanllVkpNQ25zTnN4dDF3cWh0dkxlZWRMcTFCbkVXY2NZbWRRc3M3Tmk2CkQ4Tmc0SisrOENObktXR096L21xZStEdkxqZGltSWpmRy9TQWtWbEVnNGFabmdaUENTL0Q0R3N3bkRpb3dFQWMKcmVHVnIzemJRKzFPOTZWOHlzRDdIckdVWmhTcEZXeUVMRlUrNHBLdDRqdm9WdmcyTlZJcTNEdEp0eTFrZktRNwp5WVB6dXFQd0tIdlE2YmVodkkvRDVoMkw4NzR1WmNmeU5HSzY2YWg2YTY3Z09tUitzQmtqblZUUkgwVmlXRmxkCkhOeWg3N1FUdGsxcEdjVnJBRHk0MmhBZHh1cEp0RmlEZVQvZ0N2WXM2Q0YyRG1Gbmx4VTBCa2RnbWRMOERnZ3cKRXIxV1o4SjZ6Mzl6YmM3STRMY2tWZm9MZzltVWUya1ZhN0lMcklBOVVWL2srMWkycm9xemxJcWlUUTJiNEtaawpkRmd5REYwUVh5Sk1NSFVhNDczVjI0SHRPUW41MDFWUFZ0Ym5lL2lyYjFTeFJwTUt5MTBlcmlBR3R3V21mUFc5CmVBVmo4YkhjZ0x0bzVqZVpwTmx6Y3dDcEpLaHh1T2VPUFR0bUZOTC9mOGlrTjFoTVRwWHVxVllJejMxQWVPeDUKZ1ZzaG81QTZ4NFpIcnZuRGwzYVNKVlFNVlJUOXRwQ3NLS2lON0FiYUkwMXRyZnIyaktqZlA1dHJTM2pab2VrbQp6S3ZCajhUaUc2VXBVSTFnQ3RKQjcrME9aSjU3dkFXT3RJb01wRXFtZXRYUC94bGg0RXIxY1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==

#caKeyBundle: $ {CA_KEY_BUNDLE}
caKeyBundle: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBMGVBdk9pNjM3Z2xUV0VVUDhIVUw4UzNPWUJzckJzNVBGMmpHeG9hYXhaSVg4MjBWCmRvejQxQ3MxRnV4UFRyeXYyZ0VNYWI3bHM3SWN5QmkzK1c1RG9INEZjMllBQWUyeEk3YSsrK21EcTVaVVdFSDMKRGRFR2J4bjZnbmI0YnVKOGt2Y0V1NTdSUjJFelk4ckx4UXRNU2JnZW9JT0dpVENUR0JuYzVaYXQxc2dVeEpRRQpzYlh1ZE1aY2VGSWozVVZ3eDJpNGdGcE1laFJJU01ac25RczhVR1NLQVZ6aWRkTTlYZlFaQjdTZjU1NkxHMnpvCjFBeXZuVUxRSjVxd2NKRDkrVnNPUFMrMnpNUnIxL2l3Z1BySjlBdVc0dlU4TUpHTlh5QUFtU0E2bjFRVHZWYUcKUCtrSlpvNkFhWEthNXNjS3FhbmFpRXR6dkJqeVhpVHp5NnFGQlFJREFRQUJBb0lCQVFDNEpjdHFjcG1CNjM3TQpnWFJWMkcxTkJaTUJzblRUT093ZXJ4bFNFY0wxUFpWMFNpODk0TDFuZEMzVjJpeFArckVWU0R3N0FIdU5hdWRrCkRvUkdBQ0NvVGtxOEVUQktnT01mWWZZN0ZJNHFYUEhPcXJwNXpnQ21OUllmcVFHY1VXOWFpQkVJQ25hMythcGMKa2hDdTZKWGNUUWZhY096M3JMNHp0R1drc013QkdkOWJUYjlyNnlrdUVreGdzUkp6ZFQ3M09nS3pTdCtjdVlOWQpKclRLTmx0d3drZW0wb1NnMFFLYWFXRENtRENuYi8vbkJ2blNMcFFhcmhGd2k5OGVyQnVUVEJTWjVZTWhTQ1plClhSL3dIejlqalkxd3hkRTk0TlJqenRQZWJCT0IrVnd5dWs4QURIRGJYeVpyNlR5dGxSSlNVdURTYlgvS0xKS0IKZTY5a1g3YlZBb0dCQVBwMG5kait0R1E0d1BqQkFaN1NhOE1ZVVB3WjEwVVdMZU5BWUhrZ2JlSTFnazVQVU5oNApTbkZsN2ZxRDZUOGEraFRDM2JmVThOUDlpSjFYV1pYcVhibWU5ZW95eEFkUWVPTmI3aFJybEptNEJDQ2cwR1dMCjNJazM3Q09lYk5MU29TRU05Y3EzMVhhVUtnendQa2I2NU0wKzRyWkw2SG00SHZhNDR5RkNncDlYQW9HQkFOYUYKbC90eEVmWjI3blNmNVROWHFsdGNhbkxxVTZwRENRSVpTd3M1a255QURRY2lxc01ZbmZ4eTJCcHBCbSs4d0NOMApnbGtrdDVBejB5b1pLclVXdVA1S2hWK1FNbEF0NVNZaFJNT2FOV3RwSEJubXdmdW5XdzM5Tk5wY1JqVmoyaGZaClZEcHV1K3BMWDdYdWlFc1RndmdDYzBEQ0U3YVo2cEU5UzJZcWxURURBb0dCQU5XSEN2UnY0dGYzVXY1QmZ1SXIKUDlpcktKQm1iNVBsSHVZNmdvV0NVbXlqZGg3Um5IbVJ4Tlg5TXZGNytTWG1HQVFQUnZ4dHZZemZBTlEwSHBxagpuNWlibjhrMTBzN3htcjhzSjBTZG02bWFxMW91QUw0eWlha3JWbFhmd2FQVUU2K2Izd29meFF3OXNjUXFKczVaCkpTeWZTcVprL1NTWkJ6ME4wQWNSTDFBdEFvR0FMd1NBMXg5bExIdk1yOHNMMVVEMW1haWJ2Q3dYd2syRy8rckQKUSthT2NMTXdKOHcxV1NWZ0d5Q2d0TWtvRy8xbXIxNnQ0eFBsRjdvRUlrbjV6azc0cE9ONGNBV093WHdOcVZuSgpWSVhNQjRxMkdnYzFwUTU5S29mQXVjdFhxQVFHblF1SkpuVjJ3bGRhMXVrOC9oZDhzUmI0WTgwbHZQUG5NWVlaCnJIN1F6RGtDZ1lFQThrNHdBaEZiUyt3UU5yZ1BPdTIxdmJPWnFndGRuVU0rajZyWmtxdWU3bnNMMVczVjJUWFMKYUpRMUoxZmRqalNwYWxsQTFpUXFKYjJ2SzJDR3RnRXRuWkZsVkhEYWFaREppMWRabDEvMk1md01OSFZ6c2JwaQorSXAxWUF5SHBsdjUzc0J1MjZ0MmN1TGhSWjNvMWRDVm93eTJmSnBHZFBocE40eXB0Q0hTUmJFPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

#caPubBundle: $ {CA_PUB_BUNDLE}
caPubBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdJRENDQkFpZ0F3SUJBZ0lVTDdoZk52cE9lNitVQVphTXZPRmFucHlqT0JNd0RRWUpLb1pJaHZjTkFRRU4KQlFBd2dha3hDekFKQmdOVkJBWVRBa05PTVJBd0RnWURWUVFJRXdkQ1pXbHFhVzVuTVJBd0RnWURWUVFIRXdkQwpaV2xxYVc1bk1TSXdJQVlEVlFRS0V4bEVlVzVoYldsaklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01Tc3dLUVlEClZRUUxFeUpFZVc1aGJXbGpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNJRk5sWTNWeWFYUjVNU1V3SXdZRFZRUUQKRXh4RWVXNWhiV2xqSUVGa2JXbHpjMmx2YmlCRGIyNTBjbTlzSUVOQk1CNFhEVEkwTURReU5qQXdOVGt3TUZvWApEVE0wTURReU5EQXdOVGt3TUZvd2dhWXhDekFKQmdOVkJBWVRBa05PTVJBd0RnWURWUVFJRXdkQ1pXbHFhVzVuCk1SQXdEZ1lEVlFRSEV3ZENaV2xxYVc1bk1TSXdJQVlEVlFRS0V4bEVlVzVoYldsaklFRmtiV2x6YzJsdmJpQkQKYjI1MGNtOXNNU3N3S1FZRFZRUUxFeUpFZVc1aGJXbGpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNJRk5sWTNWeQphWFI1TVNJd0lBWURWUVFERXhsRWVXNWhiV2xqSUVGa2JXbHpjMmx2YmlCRGIyNTBjbTlzTUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBMGVBdk9pNjM3Z2xUV0VVUDhIVUw4UzNPWUJzckJzNVAKRjJqR3hvYWF4WklYODIwVmRvejQxQ3MxRnV4UFRyeXYyZ0VNYWI3bHM3SWN5QmkzK1c1RG9INEZjMllBQWUyeApJN2ErKyttRHE1WlVXRUgzRGRFR2J4bjZnbmI0YnVKOGt2Y0V1NTdSUjJFelk4ckx4UXRNU2JnZW9JT0dpVENUCkdCbmM1WmF0MXNnVXhKUUVzYlh1ZE1aY2VGSWozVVZ3eDJpNGdGcE1laFJJU01ac25RczhVR1NLQVZ6aWRkTTkKWGZRWkI3U2Y1NTZMRzJ6bzFBeXZuVUxRSjVxd2NKRDkrVnNPUFMrMnpNUnIxL2l3Z1BySjlBdVc0dlU4TUpHTgpYeUFBbVNBNm4xUVR2VmFHUCtrSlpvNkFhWEthNXNjS3FhbmFpRXR6dkJqeVhpVHp5NnFGQlFJREFRQUJvNElCClB6Q0NBVHN3RGdZRFZSMFBBUUgvQkFRREFnV2dNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUYKQlFjREFqQU1CZ05WSFJNQkFmOEVBakFBTUIwR0ExVWREZ1FXQkJRU1dWTC9idGROUjZIQkh1cWdWMW1kNzhKTgpsakFmQmdOVkhTTUVHREFXZ0JRUGxNRjVqTTNPVmRrbzc1VG5YeDJ3aVJ5b3ZEQ0J1d1lEVlIwUkJJR3pNSUd3CmdnbHNiMk5oYkdodmMzU0NEMnB2ZVd4cGRtVXRkMlZpYUc5dmE0SVhhbTk1YkdsMlpTMTNaV0pvYjI5ckxtcHYKZVd4cGRtV0NHMnB2ZVd4cGRtVXRkMlZpYUc5dmF5NXFiM2xzYVhabExuTjJZNElTZG1Gc2FXUmhkR2x1WnkxMwpaV0pvYjI5cmdoNTJZV3hwWkdGMGFXNW5MWGRsWW1odmIyc3VhM1ZpWlMxaFpHUnZibk9DSW5aaGJHbGtZWFJwCmJtY3RkMlZpYUc5dmF5NXJkV0psTFdGa1pHOXVjeTV6ZG1PSEJIOEFBQUV3RFFZSktvWklodmNOQVFFTkJRQUQKZ2dJQkFEbkN5dnZlM1pGcUlwS0k5ckVIYlV6amYyS2U1Z0hkczZzYU9weWJtaktib3VianNJNUttZzhVR25QcQp1eVZyd1V5Y2xZdklaWlhmT3BlSnZ3L0JNYXFMMEx3OGU5Uy9xTnhKKzN3WlN6OHZDWXFNM0JaUjVSNVZScEt1CkhOVm1hZ25LMnJ2UU5oMVVFZkpDYlRKUW55M2tqcVd6b29FeHhsajFyVFVjUWJZeDE0MFFmM2dpMUpJYk5lTEcKMXhqeGU5K3BCZWw1RDdncHNGRjVhL0Z1U1hoMWNXSVRlUUpQeW1iSnp5YmVtaUNIQk1oclY3c1ByYlFjSVdEUQp4RlByQ1hvUzZpY0Q3Z0c2SnViWHlqSE55Vit4Q1d4UWxhcVhtcThQTDNpSVlScDVkazlIR28vNHhQK1NSaUp4Ck91NjRINTdibUlGZXFGeVF4b0FvM2E5eUY2OGhUdW5pcXJETW11Nmw2anNaOU1ZUDdUYkF4Wk9ZdGYrcE5DaWsKYjlZSW0xUTFHRS9IbmNGN1Y4RFZzVEREbXlmOGpHNSs2MjdQYWpLeE9ldm93RFpYb3RMRVd3L05WSVcxeDNZZApPcTlicGpEWlhjT3ZIK0RPSWJPMzQvNFp2SFRQampTSGRMaWpSa29tN2owRDRVSFRUMEZmeThKQWorUXFaS21qClRES2VmRHpNU0QrRUYrZDl2Wi9BN1lxK1VVZ1U5MU95ZGxnSEpiUEp6MkQ0NUhab0k3clk3Z04vMjUxeTF6QnUKMHZVWmdtN1VZYlZTN3ROSkRDN1NuZ2pFSkpXTmdXV0JNcm9wcmVMZm9BSkM3UHNCMDhSMlVQclo1U3BDTVFPcQplRVErcjRrRDdCTi9uRmVJV3lHdTdLVjJuOEs3ZUN5K3gxVldML2xDSzRSTDdubisKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=

resources: {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

VolumeMounts:
  - name: dynamic-admission-control-certs
    mountPath: /etc/kubernetes/ssl/
    readOnly: true
  - name: joylive-webhook-config
    mountPath: /etc/config.yaml
    subPath: config.yaml
  - name: joylive-webhook-config
    mountPath: /etc/bootstrap.properties
    subPath: bootstrap.properties
  - name: joylive-webhook-config
    mountPath: /etc/logback.xml
    subPath: logback.xml

Volumes:
  - name: dynamic-admission-control-certs
    secret:
      secretName: dynamic-admission-control-certs
  - name: joylive-webhook-config
    configMap:
      name: joylive-webhook-config
      items:
        - key: config.yaml
          path: config.yaml
        - key: bootstrap.properties
          path: bootstrap.properties
        - key: logback.xml
          path: logback.xml